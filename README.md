# Task Manager

Веб-приложение для управления задачами с приоритетами и статусами. Приложение разработано с использованием **SvelteKit** и **Tailwind CSS** (фронтенд),**SvelteKit API routes** (бэкенд), **MySQL**, **Prisma ORM** (хранения данных и взаимодействие с бд), и **Redis** для кеширования списка задач. Для приложения выполнен деплой на Vercel.
https://task-manager-nine-tawny.vercel.app/ - url запущенного приложения
**MySQL**, **Redis** развернуты в отдельных контейнерах, и запущены на ресурсе railway.com

## Функционал
- **Аутентификация пользователя**: Взаимодействие с задачами доступно только для аутентифицированного пользователя. Для выполнения аутентификации добалена страница логина (стартовая страница приложения для пользователя без аутентификации), для регистрации добавлена страница регистрации. Пользователи могут зарегистрироваться и войти, используя email и пароль (для простоты функционала валидация email'а не была добавлена). Для аутентификации используется svelte-kit-sessions. Для аутентифицированного пользователя пристутсвует кнопка "Logout".
- **Управление задачами**: Пользователи могут просматривать, создавать, редактировать и удалять задачи. Каждая задача включает:
  - Заголовок
  - Описание
  - Приоритет (Низкий, Средний, Высокий)
  - Статус (Новая, В процессе, Выполнена)
  Для создания и редактирования добавлена простая валидация на пустые поля.
- **REST API**: API для взаимодействия с задачами реализовано посредством  SvelteKit API routes (CRUD ендпоинты находятся в **/src/routes/api/tasks/+server.ts**).
- **Хранение данных**: Все данные хранятся в бд **MySQL**, структура таблиц описана в файле **/prisma/schema.prisma**
- **Кеширование**: Список задач кешируется с помощью Redis. Данные в кэше хранятся в течении 5 мин после добавления (после каждого обновления данных кэш чистится).

## Заупуск приложения локально
1. Клонировать репозиторий 
2. Открыть проект в любой удобной IDE
3.  Открыть терминал в директории приложения, выполнить скрипт ( нужен предуставновленный Node.js):
```
npm i
``` 
3. В корневую папку проекта добавть файл ".env" для конфига
4. В файл ".env" прописать переменные для подключения к **MySQL** и **Redis** (рзавертывать у себя не нужно. Просто прописать строки подключения к удаленным ресурсам):

```
DATABASE_URL="mysql://root:AdVbibGXUPQTojLovgGEfACgqXFJabRr@maglev.proxy.rlwy.net:23999/railway"

REDIS_URL="redis://default:QipcEyEaCODJMfmyyNRvyHPrrLPrkNoi@ballast.proxy.rlwy.net:11647"
```
5. Выполнить скрипт:
```
npm run dev
```



##  Инструкция по деплою на Vercel
1. Перейти на ресурс **vercel.com** (зарегистрироваться, если еще не)
2. На главной странице выбрать "Add New..." → "Project"
3. В блоке "Import Git Repository" вставить ссылку данного репозитория, выбрать репозиторий
4. В блоке "Environment Variables"Добавить переменные окружения:
    - DATABASE_URL: "mysql://root:AdVbibGXUPQTojLovgGEfACgqXFJabRr@maglev.proxy.rlwy.net:23999/railway"
    - REDIS_URL: "redis://default:QipcEyEaCODJMfmyyNRvyHPrrLPrkNoi@ballast.proxy.rlwy.net:11647"
5. Остальные параметры оставить по умолчанию.
6. Нажать на кнопку "Deploy"

Приложение будет развернуто ресурсе Vercel (Url приложения будет отображено на странице в виде ссылки, по которой можно будет перейти).
Далее, каждый раз при коммите в ветку master будет происходить автоматический deploy.


